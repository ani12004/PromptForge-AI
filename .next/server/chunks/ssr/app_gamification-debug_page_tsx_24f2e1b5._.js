module.exports=[21740,a=>{"use strict";var b=a.i(87924),c=a.i(98003),d=a.i(72131);function e(){let{user:a,isLoaded:e,isSignedIn:f}=(0,c.useUser)(),[g,h]=(0,d.useState)(null),[i,j]=(0,d.useState)([]),[k,l]=(0,d.useState)(!1),[m,n]=(0,d.useState)(null);return((0,d.useEffect)(()=>{e&&a&&(async()=>{l(!0),l(!1)})()},[e,a]),e)?f?(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white p-12 font-mono",children:[(0,b.jsx)("h1",{className:"text-2xl text-red-500 font-bold mb-8",children:"Gamification Debugger"}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"border border-white/20 p-6 rounded-lg",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4 text-brand-purple",children:"1. Clerk Session Info"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"User ID:"})," ",(0,b.jsx)("span",{className:"text-green-400",children:a.id})]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Email:"})," ",a.primaryEmailAddress?.emailAddress]})]}),(0,b.jsxs)("div",{className:"mt-4 p-4 bg-gray-900 rounded text-sm text-yellow-400",children:['⚠️ Please check your Supabase "user_badges" table. ',(0,b.jsx)("br",{}),"Does the ",(0,b.jsx)("code",{children:"user_id"})," column match EXACTLY with ",(0,b.jsx)("span",{className:"text-green-400",children:a.id}),"?"]})]}),(0,b.jsxs)("div",{className:"border border-white/20 p-6 rounded-lg",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4 text-blue-400",children:"2. SQL Query Generator"}),(0,b.jsx)("p",{className:"mb-4 text-sm text-gray-400",children:"Run this SQL EXACTLY to fix the ID mismatch manually if the email lookup failed:"}),(0,b.jsx)("div",{className:"bg-[#111] p-4 rounded border border-white/10 overflow-x-auto",children:(0,b.jsx)("pre",{className:"text-sm text-gray-300",children:`INSERT INTO user_badges (user_id, badge_id)
SELECT '${a.id}', id 
FROM badges 
WHERE name = 'Legend of PromptForge'
ON CONFLICT (user_id, badge_id) DO UPDATE SET earned_at = NOW();`})})]})]})]}):(0,b.jsx)("div",{children:"Not signed in"}):(0,b.jsx)("div",{children:"Loading Clerk..."})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_gamification-debug_page_tsx_24f2e1b5._.js.map