(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},21218,e=>{"use strict";let s=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>s],21218)},63488,e=>{"use strict";let s=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>s],63488)},23261,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(46932),r=e.i(88653),l=e.i(75254);let i=(0,l.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var d=e.i(63488);let c=(0,l.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),n=(0,l.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var o=e.i(31278),x=e.i(21218),h=e.i(39616);let m=(0,l.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var b=e.i(47163),u=e.i(95187);let p=(0,u.createServerReference)("00b097554662331b18367ba80cd05ccb530331738b",u.callServer,void 0,u.findSourceMapURL,"getAdminStats"),g=(0,u.createServerReference)("008c60efefc397f629252e2ed7eb0e8e19e03a7c1a",u.callServer,void 0,u.findSourceMapURL,"getUsers"),j=(0,u.createServerReference)("00ccf8bd70c4ef8697da5158f290d1f1fa493c258d",u.callServer,void 0,u.findSourceMapURL,"getContactMessages"),f=(0,u.createServerReference)("60b927a94dbbb997de4c477625b6eddf66d4916cff",u.callServer,void 0,u.findSourceMapURL,"sendBroadcastNotification"),w=(0,u.createServerReference)("602d86472a27033ecc9fd12e36af4ff1db69022ce5",u.callServer,void 0,u.findSourceMapURL,"updateMessageStatus"),N=(0,u.createServerReference)("783f3bdbbc3344bd200d335c9a9c1e57a1120fc975",u.callServer,void 0,u.findSourceMapURL,"sendEmailReply");function v(){let[e,l]=t.useState("overview"),[u,v]=t.useState(null),[k,S]=t.useState([]),[M,C]=t.useState([]),[A,L]=t.useState(!0),[R,U,P]=(0,t.useActionState)(f,null),[T,_]=t.useState(null),[D,O]=t.useState(!1),[z,E]=t.useState(""),[F,q]=t.useState(!1);t.useEffect(()=>{T||(O(!1),E(""))},[T]);let B=async e=>{await w(e,"read"),C(s=>s.map(s=>s.id===e?{...s,status:"read"}:s)),_(null)},I=async()=>{if(!z.trim())return;q(!0);let e=await N(T.email,T.subject,T.message,z);q(!1),e.error?alert("Failed to send reply: "+e.error):(alert("Reply sent successfully!"),_(null))};t.useEffect(()=>{(async()=>{L(!0);let e=await p(),s=await g(),t=await j();v(e),S(s||[]),C(t||[]),L(!1)})()},[]);let[H,V]=t.useState(!1),[G,W]=t.useState("operational"),K=[{id:"overview",label:"Overview",icon:c},{id:"users",label:"Users",icon:i},{id:"messages",label:"Messages",icon:d.Mail},{id:"broadcast",label:"Broadcast",icon:n},{id:"system",label:"System",icon:h.Settings}];return A?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(o.Loader2,{className:"h-8 w-8 animate-spin text-brand-purple"})}):(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Command Center"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Manage users, deployments, and system health."})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 p-1 bg-white/5 rounded-xl w-fit border border-white/10",children:K.map(t=>(0,s.jsxs)("button",{onClick:()=>l(t.id),className:(0,b.cn)("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all",e===t.id?"bg-brand-purple text-white shadow-lg shadow-brand-purple/20":"text-gray-400 hover:text-white hover:bg-white/5"),children:[(0,s.jsx)(t.icon,{className:"h-4 w-4"}),t.label]},t.id))}),(0,s.jsx)(r.AnimatePresence,{mode:"wait",children:(0,s.jsxs)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:["overview"===e&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)(y,{label:"Total Users",value:u?.totalUsers,icon:i,color:"text-blue-400",bg:"bg-blue-400/10"}),(0,s.jsx)(y,{label:"Total Messages",value:u?.totalMessages,icon:d.Mail,color:"text-green-400",bg:"bg-green-400/10"}),(0,s.jsx)(y,{label:"Unread Messages",value:u?.unreadMessages,icon:d.Mail,color:"text-red-400",bg:"bg-red-400/10"}),(0,s.jsx)(y,{label:"System Status",value:"Healthy",icon:x.Activity,color:"text-emerald-400",bg:"bg-emerald-400/10"})]}),"users"===e&&(0,s.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-xl overflow-hidden shadow-2xl",children:[(0,s.jsxs)("table",{className:"w-full text-left text-sm text-gray-400",children:[(0,s.jsx)("thead",{className:"bg-white/5 text-gray-200 font-medium border-b border-white/5",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-4",children:"Name"}),(0,s.jsx)("th",{className:"p-4",children:"Email"}),(0,s.jsx)("th",{className:"p-4",children:"Joined"}),(0,s.jsx)("th",{className:"p-4",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-white/5",children:k.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-white/[0.02]",children:[(0,s.jsxs)("td",{className:"p-4 text-white font-medium flex items-center gap-3",children:[e.avatar_url?(0,s.jsx)("img",{src:e.avatar_url,alt:"",className:"h-8 w-8 rounded-full border border-white/10"}):(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-white/10 flex items-center justify-center text-xs",children:e.full_name?.[0]}),e.full_name||"N/A"]}),(0,s.jsx)("td",{className:"p-4",children:e.email}),(0,s.jsx)("td",{className:"p-4",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("button",{className:"text-xs bg-white/5 hover:bg-white/10 px-2 py-1 rounded border border-white/10 text-gray-300",children:"View Details"})})]},e.id))})]}),0===k.length&&(0,s.jsx)("div",{className:"p-8 text-center",children:"No users found"})]}),"messages"===e&&(0,s.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-xl overflow-hidden shadow-2xl",children:[(0,s.jsxs)("table",{className:"w-full text-left text-sm text-gray-400",children:[(0,s.jsx)("thead",{className:"bg-white/5 text-gray-200 font-medium",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-4",children:"Date"}),(0,s.jsx)("th",{className:"p-4",children:"From"}),(0,s.jsx)("th",{className:"p-4",children:"Subject"}),(0,s.jsx)("th",{className:"p-4",children:"Message"}),(0,s.jsx)("th",{className:"p-4",children:"Status"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-white/5",children:M.map(e=>(0,s.jsxs)("tr",{onClick:()=>_(e),className:"hover:bg-white/[0.02] cursor-pointer transition-colors group",children:[(0,s.jsx)("td",{className:"p-4 whitespace-nowrap",children:new Date(e.created_at).toLocaleDateString()}),(0,s.jsxs)("td",{className:"p-4",children:[(0,s.jsx)("div",{className:"text-white font-medium group-hover:text-brand-purple transition-colors",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]}),(0,s.jsx)("td",{className:"p-4 text-white group-hover:text-white/90",children:e.subject}),(0,s.jsx)("td",{className:"p-4 max-w-xs truncate text-gray-500",children:e.message}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("span",{className:(0,b.cn)("px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider","unread"===e.status?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-green-500/10 text-green-400 border border-green-500/20"),children:e.status})})]},e.id))})]}),0===M.length&&(0,s.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No messages found"})]}),"broadcast"===e&&(0,s.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-xl p-6 shadow-2xl",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Publish Global Notification"}),(0,s.jsxs)("p",{className:"text-gray-400 mb-6 text-sm",children:["This will appear in the Notifications sidebar for ",(0,s.jsx)("strong",{children:"ALL"})," users."]}),(0,s.jsxs)("form",{action:U,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),(0,s.jsx)("input",{name:"subject",required:!0,className:"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-2 text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-purple/50",placeholder:"New Feature Alert"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Message"}),(0,s.jsx)("textarea",{name:"message",required:!0,rows:6,className:"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-2 text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-purple/50",placeholder:"We have just launched..."})]}),R?.error&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:R.error}),R?.success&&(0,s.jsx)("p",{className:"text-green-400 text-sm",children:R.message}),(0,s.jsx)("button",{type:"submit",disabled:P,className:"w-full bg-brand-purple hover:bg-brand-purple/90 text-white font-semibold py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:P?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Loader2,{className:"h-4 w-4 animate-spin"}),"Publishing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n,{className:"h-4 w-4"}),"Publish Notification"]})})]})]})}),"system"===e&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-xl p-6 shadow-2xl space-y-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,s.jsx)(x.Activity,{className:"h-5 w-5 text-emerald-400"})," System Health"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/[0.02] rounded-lg border border-white/5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500 animate-pulse"}),(0,s.jsx)("span",{className:"text-gray-300 font-medium",children:"API Gateway"})]}),(0,s.jsx)("span",{className:"text-xs text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded",children:"OPERATIONAL"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/[0.02] rounded-lg border border-white/5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500 animate-pulse"}),(0,s.jsx)("span",{className:"text-gray-300 font-medium",children:"Database (Supabase)"})]}),(0,s.jsx)("span",{className:"text-xs text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded",children:"OPERATIONAL"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/[0.02] rounded-lg border border-white/5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500 animate-pulse"}),(0,s.jsx)("span",{className:"text-gray-300 font-medium",children:"Auth (Clerk)"})]}),(0,s.jsx)("span",{className:"text-xs text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded",children:"OPERATIONAL"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-xl p-6 shadow-2xl",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-6",children:[(0,s.jsx)(h.Settings,{className:"h-5 w-5 text-brand-purple"})," Controls"]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"text-white font-medium",children:"Maintenance Mode"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Disable access for non-admins"})]}),(0,s.jsx)("button",{onClick:()=>V(!H),className:(0,b.cn)("w-12 h-6 rounded-full p-1 transition-colors",H?"bg-brand-purple":"bg-white/10"),children:(0,s.jsx)("div",{className:(0,b.cn)("w-4 h-4 rounded-full bg-white shadow-sm transition-transform",H?"translate-x-6":"translate-x-0")})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-t border-white/5 pt-6",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"text-white font-medium",children:"Global Cache"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Clear all server-side caches"})]}),(0,s.jsx)("button",{className:"px-3 py-1.5 bg-white/5 hover:bg-white/10 text-white text-xs font-medium rounded border border-white/10 transition-colors",children:"Clear Cache"})]})]}),(0,s.jsxs)("a",{href:"/changelog",target:"_blank",className:"block bg-gradient-to-br from-brand-purple/20 to-brand-purple/5 border border-brand-purple/20 rounded-xl p-6 hover:border-brand-purple/40 transition-colors group",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-white group-hover:text-brand-purple transition-colors",children:"View Changelog"}),(0,s.jsx)(m,{className:"h-5 w-5 text-gray-500 group-hover:text-brand-purple"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Review the public facing release notes for v1.3.0 and prior."})]})]})]})]},e)}),(0,s.jsx)(r.AnimatePresence,{children:T&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>_(null),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,s.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-[#18181b] border border-white/10 rounded-2xl shadow-2xl p-6 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:T.subject}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,s.jsx)("span",{children:new Date(T.created_at).toLocaleString()}),(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsx)("span",{className:(0,b.cn)("uppercase text-[10px] font-bold px-1.5 py-0.5 rounded border","unread"===T.status?"text-red-400 border-red-500/20 bg-red-500/10":"text-green-400 border-green-500/20 bg-green-500/10 "),children:T.status})]})]}),(0,s.jsxs)("button",{onClick:()=>_(null),className:"p-1 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",children:[(0,s.jsx)("span",{className:"sr-only",children:"Close"}),(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,s.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-white/[0.03] border border-white/5 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"From"}),T.user_id&&(0,s.jsxs)("span",{className:"text-xs font-mono text-gray-600",children:["ID: ",T.user_id]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-brand-purple/20 flex items-center justify-center text-brand-purple font-bold",children:T.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-medium",children:T.name}),(0,s.jsx)("div",{className:"text-sm text-brand-purple hover:underline cursor-pointer",onClick:()=>window.open(`mailto:${T.email}`),children:T.email})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Message"}),(0,s.jsx)("div",{className:"p-4 rounded-xl bg-white/[0.03] border border-white/5 text-gray-300 whitespace-pre-wrap leading-relaxed",children:T.message})]})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-white/10",children:D?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("textarea",{value:z,onChange:e=>E(e.target.value),placeholder:"Write your reply...",rows:4,className:"w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-purple/50 resize-none",autoFocus:!0}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{onClick:I,disabled:F||!z.trim(),className:"flex-1 bg-white text-black font-semibold py-2 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[F?(0,s.jsx)(o.Loader2,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(n,{className:"h-4 w-4"}),"Send Reply"]}),(0,s.jsx)("button",{onClick:()=>O(!1),disabled:F,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cancel"})]})]}):(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{onClick:()=>O(!0),className:"flex-1 flex items-center justify-center gap-2 bg-white text-black font-semibold py-2.5 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,s.jsx)(n,{className:"w-4 h-4"}),"Reply"]}),"unread"===T.status&&(0,s.jsxs)("button",{onClick:()=>B(T.id),className:"flex-1 flex items-center justify-center gap-2 bg-white/5 hover:bg-white/10 text-white font-semibold py-2.5 rounded-xl border border-white/10 transition-colors",children:[(0,s.jsx)(d.Mail,{className:"w-4 h-4"}),"Mark as Read"]})]})})]})]})})]})}function y({label:e,value:t,icon:a,color:r,bg:l}){return(0,s.jsxs)("div",{className:"bg-[#18181b] border border-white/10 p-6 rounded-xl flex items-center gap-4",children:[(0,s.jsx)("div",{className:(0,b.cn)("p-3 rounded-lg",l),children:(0,s.jsx)(a,{className:(0,b.cn)("h-6 w-6",r)})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:e}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:t})]})]})}e.s(["default",()=>v],23261)}]);