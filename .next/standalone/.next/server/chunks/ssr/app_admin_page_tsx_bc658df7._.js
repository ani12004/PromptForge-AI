module.exports=[88367,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(70106);let g=(0,f.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var h=a.i(92258);let i=(0,f.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),j=(0,f.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var k=a.i(96221),l=a.i(90669),m=a.i(21161);let n=(0,f.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var o=a.i(97895),p=a.i(73993);let q=(0,p.createServerReference)("00b097554662331b18367ba80cd05ccb530331738b",p.callServer,void 0,p.findSourceMapURL,"getAdminStats"),r=(0,p.createServerReference)("008c60efefc397f629252e2ed7eb0e8e19e03a7c1a",p.callServer,void 0,p.findSourceMapURL,"getUsers"),s=(0,p.createServerReference)("00ccf8bd70c4ef8697da5158f290d1f1fa493c258d",p.callServer,void 0,p.findSourceMapURL,"getContactMessages"),t=(0,p.createServerReference)("60b927a94dbbb997de4c477625b6eddf66d4916cff",p.callServer,void 0,p.findSourceMapURL,"sendBroadcastNotification"),u=(0,p.createServerReference)("602d86472a27033ecc9fd12e36af4ff1db69022ce5",p.callServer,void 0,p.findSourceMapURL,"updateMessageStatus"),v=(0,p.createServerReference)("783f3bdbbc3344bd200d335c9a9c1e57a1120fc975",p.callServer,void 0,p.findSourceMapURL,"sendEmailReply");function w(){let[a,f]=c.useState("overview"),[p,w]=c.useState(null),[y,z]=c.useState([]),[A,B]=c.useState([]),[C,D]=c.useState(!0),[E,F,G]=(0,c.useActionState)(t,null),[H,I]=c.useState(null),[J,K]=c.useState(!1),[L,M]=c.useState(""),[N,O]=c.useState(!1);c.useEffect(()=>{H||(K(!1),M(""))},[H]);let P=async a=>{await u(a,"read"),B(b=>b.map(b=>b.id===a?{...b,status:"read"}:b)),I(null)},Q=async()=>{if(!L.trim())return;O(!0);let a=await v(H.email,H.subject,H.message,L);O(!1),a.error?alert("Failed to send reply: "+a.error):(alert("Reply sent successfully!"),I(null))};c.useEffect(()=>{(async()=>{D(!0);let a=await q(),b=await r(),c=await s();w(a),z(b||[]),B(c||[]),D(!1)})()},[]);let[R,S]=c.useState(!1),[T,U]=c.useState("operational"),V=[{id:"overview",label:"Overview",icon:i},{id:"users",label:"Users",icon:g},{id:"messages",label:"Messages",icon:h.Mail},{id:"broadcast",label:"Broadcast",icon:j},{id:"system",label:"System",icon:m.Settings}];return C?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin text-brand-purple"})}):(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Command Center"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Manage users, deployments, and system health."})]}),(0,b.jsx)("div",{className:"flex items-center gap-2 p-1 bg-white/5 rounded-xl w-fit border border-white/10",children:V.map(c=>(0,b.jsxs)("button",{onClick:()=>f(c.id),className:(0,o.cn)("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all",a===c.id?"bg-brand-purple text-white shadow-lg shadow-brand-purple/20":"text-gray-400 hover:text-white hover:bg-white/5"),children:[(0,b.jsx)(c.icon,{className:"h-4 w-4"}),c.label]},c.id))}),(0,b.jsx)(e.AnimatePresence,{mode:"wait",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:["overview"===a&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsx)(x,{label:"Total Users",value:p?.totalUsers,icon:g,color:"text-blue-400",bg:"bg-blue-400/10"}),(0,b.jsx)(x,{label:"Total Messages",value:p?.totalMessages,icon:h.Mail,color:"text-green-400",bg:"bg-green-400/10"}),(0,b.jsx)(x,{label:"Unread Messages",value:p?.unreadMessages,icon:h.Mail,color:"text-red-400",bg:"bg-red-400/10"}),(0,b.jsx)(x,{label:"System Status",value:"Healthy",icon:l.Activity,color:"text-emerald-400",bg:"bg-emerald-400/10"})]}),"users"===a&&(0,b.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-xl overflow-hidden shadow-2xl",children:[(0,b.jsxs)("table",{className:"w-full text-left text-sm text-gray-400",children:[(0,b.jsx)("thead",{className:"bg-white/5 text-gray-200 font-medium border-b border-white/5",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4",children:"Name"}),(0,b.jsx)("th",{className:"p-4",children:"Email"}),(0,b.jsx)("th",{className:"p-4",children:"Joined"}),(0,b.jsx)("th",{className:"p-4",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:y.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-white/[0.02]",children:[(0,b.jsxs)("td",{className:"p-4 text-white font-medium flex items-center gap-3",children:[a.avatar_url?(0,b.jsx)("img",{src:a.avatar_url,alt:"",className:"h-8 w-8 rounded-full border border-white/10"}):(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-white/10 flex items-center justify-center text-xs",children:a.full_name?.[0]}),a.full_name||"N/A"]}),(0,b.jsx)("td",{className:"p-4",children:a.email}),(0,b.jsx)("td",{className:"p-4",children:a.created_at?new Date(a.created_at).toLocaleDateString():"N/A"}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("button",{className:"text-xs bg-white/5 hover:bg-white/10 px-2 py-1 rounded border border-white/10 text-gray-300",children:"View Details"})})]},a.id))})]}),0===y.length&&(0,b.jsx)("div",{className:"p-8 text-center",children:"No users found"})]}),"messages"===a&&(0,b.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-xl overflow-hidden shadow-2xl",children:[(0,b.jsxs)("table",{className:"w-full text-left text-sm text-gray-400",children:[(0,b.jsx)("thead",{className:"bg-white/5 text-gray-200 font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4",children:"Date"}),(0,b.jsx)("th",{className:"p-4",children:"From"}),(0,b.jsx)("th",{className:"p-4",children:"Subject"}),(0,b.jsx)("th",{className:"p-4",children:"Message"}),(0,b.jsx)("th",{className:"p-4",children:"Status"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:A.map(a=>(0,b.jsxs)("tr",{onClick:()=>I(a),className:"hover:bg-white/[0.02] cursor-pointer transition-colors group",children:[(0,b.jsx)("td",{className:"p-4 whitespace-nowrap",children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsxs)("td",{className:"p-4",children:[(0,b.jsx)("div",{className:"text-white font-medium group-hover:text-brand-purple transition-colors",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.email})]}),(0,b.jsx)("td",{className:"p-4 text-white group-hover:text-white/90",children:a.subject}),(0,b.jsx)("td",{className:"p-4 max-w-xs truncate text-gray-500",children:a.message}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:(0,o.cn)("px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider","unread"===a.status?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-green-500/10 text-green-400 border border-green-500/20"),children:a.status})})]},a.id))})]}),0===A.length&&(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No messages found"})]}),"broadcast"===a&&(0,b.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,b.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-xl p-6 shadow-2xl",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Publish Global Notification"}),(0,b.jsxs)("p",{className:"text-gray-400 mb-6 text-sm",children:["This will appear in the Notifications sidebar for ",(0,b.jsx)("strong",{children:"ALL"})," users."]}),(0,b.jsxs)("form",{action:F,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),(0,b.jsx)("input",{name:"subject",required:!0,className:"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-2 text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-purple/50",placeholder:"New Feature Alert"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Message"}),(0,b.jsx)("textarea",{name:"message",required:!0,rows:6,className:"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-2 text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-purple/50",placeholder:"We have just launched..."})]}),E?.error&&(0,b.jsx)("p",{className:"text-red-400 text-sm",children:E.error}),E?.success&&(0,b.jsx)("p",{className:"text-green-400 text-sm",children:E.message}),(0,b.jsx)("button",{type:"submit",disabled:G,className:"w-full bg-brand-purple hover:bg-brand-purple/90 text-white font-semibold py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:G?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Loader2,{className:"h-4 w-4 animate-spin"}),"Publishing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j,{className:"h-4 w-4"}),"Publish Notification"]})})]})]})}),"system"===a&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-xl p-6 shadow-2xl space-y-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(l.Activity,{className:"h-5 w-5 text-emerald-400"})," System Health"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/[0.02] rounded-lg border border-white/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500 animate-pulse"}),(0,b.jsx)("span",{className:"text-gray-300 font-medium",children:"API Gateway"})]}),(0,b.jsx)("span",{className:"text-xs text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded",children:"OPERATIONAL"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/[0.02] rounded-lg border border-white/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500 animate-pulse"}),(0,b.jsx)("span",{className:"text-gray-300 font-medium",children:"Database (Supabase)"})]}),(0,b.jsx)("span",{className:"text-xs text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded",children:"OPERATIONAL"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/[0.02] rounded-lg border border-white/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500 animate-pulse"}),(0,b.jsx)("span",{className:"text-gray-300 font-medium",children:"Auth (Clerk)"})]}),(0,b.jsx)("span",{className:"text-xs text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded",children:"OPERATIONAL"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-xl p-6 shadow-2xl",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-6",children:[(0,b.jsx)(m.Settings,{className:"h-5 w-5 text-brand-purple"})," Controls"]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"text-white font-medium",children:"Maintenance Mode"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Disable access for non-admins"})]}),(0,b.jsx)("button",{onClick:()=>S(!R),className:(0,o.cn)("w-12 h-6 rounded-full p-1 transition-colors",R?"bg-brand-purple":"bg-white/10"),children:(0,b.jsx)("div",{className:(0,o.cn)("w-4 h-4 rounded-full bg-white shadow-sm transition-transform",R?"translate-x-6":"translate-x-0")})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between border-t border-white/5 pt-6",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"text-white font-medium",children:"Global Cache"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Clear all server-side caches"})]}),(0,b.jsx)("button",{className:"px-3 py-1.5 bg-white/5 hover:bg-white/10 text-white text-xs font-medium rounded border border-white/10 transition-colors",children:"Clear Cache"})]})]}),(0,b.jsxs)("a",{href:"/changelog",target:"_blank",className:"block bg-gradient-to-br from-brand-purple/20 to-brand-purple/5 border border-brand-purple/20 rounded-xl p-6 hover:border-brand-purple/40 transition-colors group",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white group-hover:text-brand-purple transition-colors",children:"View Changelog"}),(0,b.jsx)(n,{className:"h-5 w-5 text-gray-500 group-hover:text-brand-purple"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Review the public facing release notes for v1.3.0 and prior."})]})]})]})]},a)}),(0,b.jsx)(e.AnimatePresence,{children:H&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>I(null),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-[#18181b] border border-white/10 rounded-2xl shadow-2xl p-6 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:H.subject}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,b.jsx)("span",{children:new Date(H.created_at).toLocaleString()}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{className:(0,o.cn)("uppercase text-[10px] font-bold px-1.5 py-0.5 rounded border","unread"===H.status?"text-red-400 border-red-500/20 bg-red-500/10":"text-green-400 border-green-500/20 bg-green-500/10 "),children:H.status})]})]}),(0,b.jsxs)("button",{onClick:()=>I(null),className:"p-1 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",children:[(0,b.jsx)("span",{className:"sr-only",children:"Close"}),(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,b.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-white/[0.03] border border-white/5 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"From"}),H.user_id&&(0,b.jsxs)("span",{className:"text-xs font-mono text-gray-600",children:["ID: ",H.user_id]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-brand-purple/20 flex items-center justify-center text-brand-purple font-bold",children:H.name.charAt(0).toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:H.name}),(0,b.jsx)("div",{className:"text-sm text-brand-purple hover:underline cursor-pointer",onClick:()=>window.open(`mailto:${H.email}`),children:H.email})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Message"}),(0,b.jsx)("div",{className:"p-4 rounded-xl bg-white/[0.03] border border-white/5 text-gray-300 whitespace-pre-wrap leading-relaxed",children:H.message})]})]}),(0,b.jsx)("div",{className:"pt-4 border-t border-white/10",children:J?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("textarea",{value:L,onChange:a=>M(a.target.value),placeholder:"Write your reply...",rows:4,className:"w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-purple/50 resize-none",autoFocus:!0}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("button",{onClick:Q,disabled:N||!L.trim(),className:"flex-1 bg-white text-black font-semibold py-2 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[N?(0,b.jsx)(k.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(j,{className:"h-4 w-4"}),"Send Reply"]}),(0,b.jsx)("button",{onClick:()=>K(!1),disabled:N,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("button",{onClick:()=>K(!0),className:"flex-1 flex items-center justify-center gap-2 bg-white text-black font-semibold py-2.5 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,b.jsx)(j,{className:"w-4 h-4"}),"Reply"]}),"unread"===H.status&&(0,b.jsxs)("button",{onClick:()=>P(H.id),className:"flex-1 flex items-center justify-center gap-2 bg-white/5 hover:bg-white/10 text-white font-semibold py-2.5 rounded-xl border border-white/10 transition-colors",children:[(0,b.jsx)(h.Mail,{className:"w-4 h-4"}),"Mark as Read"]})]})})]})]})})]})}function x({label:a,value:c,icon:d,color:e,bg:f}){return(0,b.jsxs)("div",{className:"bg-[#18181b] border border-white/10 p-6 rounded-xl flex items-center gap-4",children:[(0,b.jsx)("div",{className:(0,o.cn)("p-3 rounded-lg",f),children:(0,b.jsx)(d,{className:(0,o.cn)("h-6 w-6",e)})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-400",children:a}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:c})]})]})}a.s(["default",()=>w],88367)}];

//# sourceMappingURL=app_admin_page_tsx_bc658df7._.js.map